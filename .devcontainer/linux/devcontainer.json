{
    "name": "Ledger app dev tools (linux)",
    // TODO : replace with "ghcr.io/ledgerhq/ledger-app-builder/ledger-app-dev-tools:latest" when
    // app-builder PR is merged : https://github.com/LedgerHQ/ledger-app-builder/pull/52
    "image": "ghcr.io/ledgerhq/ledger-app-builder-clang/ledger-app-tester:latest",
    "initializeCommand": ".devcontainer/mac_linux/init.sh",
    "containerEnv": {
        "DISPLAY": "host.docker.internal:0"
    },
    "runArgs": ["--privileged"],
    "mounts": [
        // Prevent vscode extensions from being wiped-out when rebuilding container.
        "source=vscode-ext-volume,target=/root/.vscode-server/extensions,type=volume",
        // X11 sockets for graphical apps
        "source=/tmp/.X11-unix,target=/tmp/.X11-unix,type=bind,consistency=cached"
        // TODO add stuff for USB pass-through (will also need something in the init.sh script ?)
    ]
}
